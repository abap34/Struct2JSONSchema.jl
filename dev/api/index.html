<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API Reference · Struct2JSONSchema.jl</title><meta name="title" content="API Reference · Struct2JSONSchema.jl"/><meta property="og:title" content="API Reference · Struct2JSONSchema.jl"/><meta property="twitter:title" content="API Reference · Struct2JSONSchema.jl"/><meta name="description" content="Documentation for Struct2JSONSchema.jl."/><meta property="og:description" content="Documentation for Struct2JSONSchema.jl."/><meta property="twitter:description" content="Documentation for Struct2JSONSchema.jl."/><meta property="og:url" content="https://abap34.github.io/Struct2JSONSchema.jl/api/"/><meta property="twitter:url" content="https://abap34.github.io/Struct2JSONSchema.jl/api/"/><link rel="canonical" href="https://abap34.github.io/Struct2JSONSchema.jl/api/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">Struct2JSONSchema.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>API Reference</a><ul class="internal"><li><a class="tocitem" href="#Core-Functions"><span>Core Functions</span></a></li><li><a class="tocitem" href="#Context-Management"><span>Context Management</span></a></li><li><a class="tocitem" href="#Type-Registration"><span>Type Registration</span></a></li><li><a class="tocitem" href="#Optional-Fields"><span>Optional Fields</span></a></li><li><a class="tocitem" href="#Field-Filtering"><span>Field Filtering</span></a></li><li><a class="tocitem" href="#Index"><span>Index</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>API Reference</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API Reference</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/abap34/Struct2JSONSchema.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/abap34/Struct2JSONSchema.jl/blob/main/docs/src/api.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="API-Reference"><a class="docs-heading-anchor" href="#API-Reference">API Reference</a><a id="API-Reference-1"></a><a class="docs-heading-anchor-permalink" href="#API-Reference" title="Permalink"></a></h1><h2 id="Core-Functions"><a class="docs-heading-anchor" href="#Core-Functions">Core Functions</a><a id="Core-Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Core-Functions" title="Permalink"></a></h2><article><details class="docstring" open="true"><summary id="Struct2JSONSchema.generate_schema"><a class="docstring-binding" href="#Struct2JSONSchema.generate_schema"><code>Struct2JSONSchema.generate_schema</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">generate_schema(T; ctx=SchemaContext(), simplify=true)</code></pre><p>Variant of <a href="#Struct2JSONSchema.generate_schema!"><code>generate_schema!</code></a> that clones the provided context before generation. The original <code>ctx</code> is unaffected.</p><p>If <code>simplify=true</code> (default), the schema is simplified by removing unused definitions, inlining single-use references, and sorting definitions.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/abap34/Struct2JSONSchema.jl/blob/e71c8763c36b068d34b0ae4e763a0f8f593c3867/src/api.jl#L238-L246">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Struct2JSONSchema.generate_schema!"><a class="docstring-binding" href="#Struct2JSONSchema.generate_schema!"><code>Struct2JSONSchema.generate_schema!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">generate_schema!(T; ctx=SchemaContext(), simplify=true)</code></pre><p>Materialize a schema for <code>T</code> using the provided mutable context. <code>ctx</code> is updated in-place and the function returns a named tuple with <code>doc</code> (the JSON schema document) and <code>unknowns</code> (newly encountered unsupported types).</p><p>If <code>simplify=true</code> (default), the schema is simplified by removing unused definitions, inlining single-use references, and sorting definitions.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/abap34/Struct2JSONSchema.jl/blob/e71c8763c36b068d34b0ae4e763a0f8f593c3867/src/api.jl#L211-L221">source</a></section></details></article><h2 id="Context-Management"><a class="docs-heading-anchor" href="#Context-Management">Context Management</a><a id="Context-Management-1"></a><a class="docs-heading-anchor-permalink" href="#Context-Management" title="Permalink"></a></h2><article><details class="docstring" open="true"><summary id="Struct2JSONSchema.SchemaContext"><a class="docstring-binding" href="#Struct2JSONSchema.SchemaContext"><code>Struct2JSONSchema.SchemaContext</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">SchemaContext</code></pre><p>Holds all state required while generating JSON Schemas. The context tracks <code>$defs</code>, previously computed keys, the current traversal path, override registrations, and knobs for auto-detecting optional fields. Construct a context with <a href="#Struct2JSONSchema.SchemaContext"><code>SchemaContext()</code></a> and pass it to the API helpers.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/abap34/Struct2JSONSchema.jl/blob/e71c8763c36b068d34b0ae4e763a0f8f593c3867/src/context.jl#L31-L39">source</a></section></details></article><h2 id="Type-Registration"><a class="docs-heading-anchor" href="#Type-Registration">Type Registration</a><a id="Type-Registration-1"></a><a class="docs-heading-anchor-permalink" href="#Type-Registration" title="Permalink"></a></h2><article><details class="docstring" open="true"><summary id="Struct2JSONSchema.register_abstract!"><a class="docstring-binding" href="#Struct2JSONSchema.register_abstract!"><code>Struct2JSONSchema.register_abstract!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">register_abstract!(ctx, A; variants, discr_key, tag_value, require_discr=true)</code></pre><p>Register a discriminator schema for the abstract type <code>A</code>. <code>variants</code> must be a vector of concrete subtypes, <code>discr_key</code> the discriminator field name, and <code>tag_value</code> a <code>Dict</code> mapping each variant to a JSON scalar tag. When <code>require_discr</code> is true the discriminator field is marked as required.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/abap34/Struct2JSONSchema.jl/blob/e71c8763c36b068d34b0ae4e763a0f8f593c3867/src/api.jl#L1-L8">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Struct2JSONSchema.register_override!"><a class="docstring-binding" href="#Struct2JSONSchema.register_override!"><code>Struct2JSONSchema.register_override!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">register_override!(ctx, generator)</code></pre><p>Append a generic override function. <code>generator</code> receives the live <code>SchemaContext</code> and must return a replacement schema <code>Dict</code> or <code>nothing</code> to allow later overrides/default generation to run. Exceptions are caught; when <code>ctx.verbose</code> is true a warning is logged before falling back to the next candidate.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/abap34/Struct2JSONSchema.jl/blob/e71c8763c36b068d34b0ae4e763a0f8f593c3867/src/api.jl#L64-L72">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Struct2JSONSchema.register_type_override!"><a class="docstring-binding" href="#Struct2JSONSchema.register_type_override!"><code>Struct2JSONSchema.register_type_override!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">register_type_override!(ctx, T, generator)</code></pre><p>Convenience wrapper over <a href="#Struct2JSONSchema.register_override!"><code>register_override!</code></a> that only fires when the currently generated type is exactly <code>T</code>. The supplied <code>generator</code> should return the full replacement schema for that type.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/abap34/Struct2JSONSchema.jl/blob/e71c8763c36b068d34b0ae4e763a0f8f593c3867/src/api.jl#L78-L84">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Struct2JSONSchema.register_field_override!"><a class="docstring-binding" href="#Struct2JSONSchema.register_field_override!"><code>Struct2JSONSchema.register_field_override!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">register_field_override!(ctx, T, field, generator)</code></pre><p>Register a context-aware override for the field <code>field</code> on struct <code>T</code>. The override runs while the field is visited and may return any schema <code>Dict</code>. Returning <code>nothing</code> falls back to downstream overrides or the default <code>$ref</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/abap34/Struct2JSONSchema.jl/blob/e71c8763c36b068d34b0ae4e763a0f8f593c3867/src/api.jl#L95-L102">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Struct2JSONSchema.register_optional_fields!"><a class="docstring-binding" href="#Struct2JSONSchema.register_optional_fields!"><code>Struct2JSONSchema.register_optional_fields!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">register_optional_fields!(ctx, T, fields)</code></pre><p>Mark specific fields on <code>T</code> as optional regardless of their declared types. <code>fields</code> may be supplied as a collection of <code>Symbol</code>s or as varargs.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/abap34/Struct2JSONSchema.jl/blob/e71c8763c36b068d34b0ae4e763a0f8f593c3867/src/api.jl#L138-L143">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Struct2JSONSchema.register_field_description!"><a class="docstring-binding" href="#Struct2JSONSchema.register_field_description!"><code>Struct2JSONSchema.register_field_description!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">register_field_description!(ctx, T, field, description)</code></pre><p>Register a description for the field <code>field</code> on struct <code>T</code>. The description will be added to the JSON Schema as the <code>description</code> property. Manual registration takes priority over automatic extraction via <code>REPL.fielddoc</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/abap34/Struct2JSONSchema.jl/blob/e71c8763c36b068d34b0ae4e763a0f8f593c3867/src/api.jl#L151-L157">source</a></section></details></article><h2 id="Optional-Fields"><a class="docs-heading-anchor" href="#Optional-Fields">Optional Fields</a><a id="Optional-Fields-1"></a><a class="docs-heading-anchor-permalink" href="#Optional-Fields" title="Permalink"></a></h2><article><details class="docstring" open="true"><summary id="Struct2JSONSchema.treat_union_nothing_as_optional!"><a class="docstring-binding" href="#Struct2JSONSchema.treat_union_nothing_as_optional!"><code>Struct2JSONSchema.treat_union_nothing_as_optional!</code></a> — <span class="docstring-category">Function</span></summary><section><div><p>Enable automatic <code>Union{T,Nothing}</code> → optional field detection.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/abap34/Struct2JSONSchema.jl/blob/e71c8763c36b068d34b0ae4e763a0f8f593c3867/src/api.jl#L193">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Struct2JSONSchema.treat_union_missing_as_optional!"><a class="docstring-binding" href="#Struct2JSONSchema.treat_union_missing_as_optional!"><code>Struct2JSONSchema.treat_union_missing_as_optional!</code></a> — <span class="docstring-category">Function</span></summary><section><div><p>Enable automatic <code>Union{T,Missing}</code> → optional field detection.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/abap34/Struct2JSONSchema.jl/blob/e71c8763c36b068d34b0ae4e763a0f8f593c3867/src/api.jl#L196">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Struct2JSONSchema.treat_null_as_optional!"><a class="docstring-binding" href="#Struct2JSONSchema.treat_null_as_optional!"><code>Struct2JSONSchema.treat_null_as_optional!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">treat_null_as_optional!(ctx)</code></pre><p>Helper that enables both <code>Union{T,Nothing}</code> and <code>Union{T,Missing}</code> detection in one call.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/abap34/Struct2JSONSchema.jl/blob/e71c8763c36b068d34b0ae4e763a0f8f593c3867/src/api.jl#L199-L204">source</a></section></details></article><h2 id="Field-Filtering"><a class="docs-heading-anchor" href="#Field-Filtering">Field Filtering</a><a id="Field-Filtering-1"></a><a class="docs-heading-anchor-permalink" href="#Field-Filtering" title="Permalink"></a></h2><article><details class="docstring" open="true"><summary id="Struct2JSONSchema.register_skip_fields!"><a class="docstring-binding" href="#Struct2JSONSchema.register_skip_fields!"><code>Struct2JSONSchema.register_skip_fields!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">register_skip_fields!(ctx, T, fields...)</code></pre><p>Mark specific fields on <code>T</code> to be completely skipped (excluded from schema generation). Skipped fields will not appear in <code>properties</code> or <code>required</code>. <code>fields</code> may be supplied as a collection of <code>Symbol</code>s or as varargs.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/abap34/Struct2JSONSchema.jl/blob/e71c8763c36b068d34b0ae4e763a0f8f593c3867/src/api.jl#L164-L170">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Struct2JSONSchema.register_only_fields!"><a class="docstring-binding" href="#Struct2JSONSchema.register_only_fields!"><code>Struct2JSONSchema.register_only_fields!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">register_only_fields!(ctx, T, fields...)</code></pre><p>Mark that only the specified fields on <code>T</code> should be included in the schema. All other fields will be skipped. This is the inverse of <code>register_skip_fields!</code>. <code>fields</code> may be supplied as a collection of <code>Symbol</code>s or as varargs.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/abap34/Struct2JSONSchema.jl/blob/e71c8763c36b068d34b0ae4e763a0f8f593c3867/src/api.jl#L178-L184">source</a></section></details></article><h2 id="Index"><a class="docs-heading-anchor" href="#Index">Index</a><a id="Index-1"></a><a class="docs-heading-anchor-permalink" href="#Index" title="Permalink"></a></h2><ul><li><a href="#Struct2JSONSchema.SchemaContext"><code>Struct2JSONSchema.SchemaContext</code></a></li><li><a href="#Struct2JSONSchema.generate_schema"><code>Struct2JSONSchema.generate_schema</code></a></li><li><a href="#Struct2JSONSchema.generate_schema!"><code>Struct2JSONSchema.generate_schema!</code></a></li><li><a href="#Struct2JSONSchema.register_abstract!"><code>Struct2JSONSchema.register_abstract!</code></a></li><li><a href="#Struct2JSONSchema.register_field_description!"><code>Struct2JSONSchema.register_field_description!</code></a></li><li><a href="#Struct2JSONSchema.register_field_override!"><code>Struct2JSONSchema.register_field_override!</code></a></li><li><a href="#Struct2JSONSchema.register_only_fields!"><code>Struct2JSONSchema.register_only_fields!</code></a></li><li><a href="#Struct2JSONSchema.register_optional_fields!"><code>Struct2JSONSchema.register_optional_fields!</code></a></li><li><a href="#Struct2JSONSchema.register_override!"><code>Struct2JSONSchema.register_override!</code></a></li><li><a href="#Struct2JSONSchema.register_skip_fields!"><code>Struct2JSONSchema.register_skip_fields!</code></a></li><li><a href="#Struct2JSONSchema.register_type_override!"><code>Struct2JSONSchema.register_type_override!</code></a></li><li><a href="#Struct2JSONSchema.treat_null_as_optional!"><code>Struct2JSONSchema.treat_null_as_optional!</code></a></li><li><a href="#Struct2JSONSchema.treat_union_missing_as_optional!"><code>Struct2JSONSchema.treat_union_missing_as_optional!</code></a></li><li><a href="#Struct2JSONSchema.treat_union_nothing_as_optional!"><code>Struct2JSONSchema.treat_union_nothing_as_optional!</code></a></li></ul></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.1 on <span class="colophon-date" title="Friday 26 December 2025 12:46">Friday 26 December 2025</span>. Using Julia version 1.12.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
